---
import { skills } from '@/data/skills';
import Icon from './Icon.astro';

interface Props {
  title?: string;
  skillsList?: typeof skills;
  columns?: 2 | 3;
}

// Use passed skills or default to all skills from the data file
const { title = "Skills", skillsList = skills, columns = 3 } = Astro.props;

// Define columns CSS based on prop
const columnsClass = columns === 3 
  ? "grid-cols-1 md:grid-cols-2 lg:grid-cols-3" 
  : "grid-cols-1 md:grid-cols-2";
---

{title && <h2 class="text-2xl font-bold mb-6">{title}</h2>}

<div class={`grid ${columnsClass} gap-6 mb-8 auto-rows-fr`}>
  {skillsList.map((skill) => (
    <div class="card bg-base-200 shadow-sm h-full">
      <div class="card-body p-6 flex flex-col justify-between h-full">
        <div class="flex items-center gap-4 mb-3">
          <div class="w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0">
            <Icon name={skill.iconName} className="w-6 h-6 text-primary" />
          </div>
          <h3 class="card-title text-xl font-semibold">{skill.title}</h3>
        </div>
        <p class="text-base">{skill.description}</p>
      </div>
    </div>
  ))}
</div>